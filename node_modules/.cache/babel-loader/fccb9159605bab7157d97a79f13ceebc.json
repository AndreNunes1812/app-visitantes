{"remainingRequest":"/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/thread-loader/dist/cjs.js!/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/babel-loader/lib/index.js!/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/vuetify-loader/lib/loader.js!/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sys09/Documentos/rafael/vuejs/app-visitantes/src/components/AppListaVisitantes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sys09/Documentos/rafael/vuejs/app-visitantes/src/components/AppListaVisitantes.vue","mtime":1555075999997},{"path":"/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sys09/Documentos/rafael/vuejs/app-visitantes/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport config from \"./../config/config\";\nexport default {\n  data: function data() {\n    return {\n      titulo: \"Cadastro\",\n      visitante: {\n        nome: \"\",\n        contato: \"\",\n        cpf: \"\",\n        hora: \"\"\n      },\n      visitantes: [],\n      erros: [],\n      selecionado: \"\",\n      exibir: false,\n      mensagem: \"\",\n      classCSS: \"\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    axios.get(\"\".concat(config.apiURL, \"/visitantes\")).then(function (response) {\n      _this.visitantes = response.data;\n    });\n  },\n  computed: {\n    listaOrdenada: function listaOrdenada() {\n      return this.visitantes.sort(function (v1, v2) {\n        return v1.nome < v2.nome ? -1 : v1.nome > v2.nome ? 1 : 0;\n      });\n    }\n  },\n  methods: {\n    resetar: function resetar() {\n      this.titulo = \"Cadastro\";\n      this.visitante = {\n        nome: \"\",\n        contato: \"\",\n        cpf: \"\",\n        hora: \"\"\n      };\n      this.erros = [];\n    },\n    validarLetras: function validarLetras(texto) {\n      var regex = /^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ ]+$/;\n      return regex.test(texto);\n    },\n    buscarCPF: function buscarCPF(umVetor, item) {\n      var prim = 0;\n      var ult = umVetor.length - 1;\n      var achou = false;\n\n      while (prim <= ult && !achou) {\n        var meioLista = Math.ceil((prim + ult) / 2);\n\n        if (umVetor[meioLista] == item) {\n          achou = true;\n        } else {\n          if (item < umVetor[meioLista]) {\n            ult = meioLista - 1;\n          } else {\n            prim = meioLista + 1;\n          }\n        }\n      }\n\n      return achou;\n    },\n    ordenarCPF: function ordenarCPF(array) {\n      return array.sort(function (v1, v2) {\n        return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\n      });\n    },\n    validar: function validar() {\n      this.erros = [];\n\n      if (!this.visitante.nome) {\n        this.erros.push(\"O nome é obrigatório.\");\n      }\n\n      if (!this.validarLetras(this.visitante.nome) && this.visitante.nome.length > 0) {\n        this.erros.push(\"É aceitável apenas letras no campo nome.\");\n      }\n\n      if (this.visitante.contato.length < 15) {\n        this.erros.push(\"Contato incompleto.\");\n      }\n\n      if (this.visitante.cpf.length < 14) {\n        this.erros.push(\"CPF incompleto.\");\n      }\n\n      var arrayCPF = [];\n      this.visitantes.forEach(function (element) {\n        arrayCPF.push(element.cpf);\n      });\n\n      if (this.titulo == \"Cadastro\" && this.buscarCPF(this.ordenarCPF(arrayCPF), this.visitante.cpf)) {\n        this.erros.push(\"CPF inválido.\");\n      }\n\n      if (!this.visitante.hora) {\n        this.erros.push(\"O horário de entrada é obrigatório.\");\n      }\n\n      return this.erros.length > 0 ? false : true;\n    },\n    exibirMensagem: function exibirMensagem() {\n      var _this2 = this;\n\n      this.exibir = true;\n      setTimeout(function () {\n        _this2.exibir = false;\n      }, 3000);\n    },\n    listar: function listar() {\n      var _this3 = this;\n\n      axios.get(\"\".concat(config.apiURL, \"/visitantes\")).then(function (response) {\n        _this3.visitantes = response.data;\n      });\n    },\n    salvar: function salvar(event) {\n      var _this4 = this;\n\n      if (this.validar()) {\n        if (this.titulo == \"Cadastro\") {\n          axios.post(\"\".concat(config.apiURL, \"/visitantes/\"), this.visitante).then(function (response) {\n            _this4.listar();\n\n            if (response.status == 201) {\n              _this4.classCSS = \"alert-success\";\n              _this4.mensagem = \"Cadastrado com sucesso!\";\n            } else {\n              _this4.classCSS = \"alert-danger\";\n              _this4.mensagem = \"Erro ao cadastrar!\";\n            }\n\n            _this4.exibirMensagem();\n          });\n        } else {\n          axios.put(\"\".concat(config.apiURL, \"/visitantes/\").concat(this.visitante.id, \"/\"), this.visitante).then(function (response) {\n            _this4.listar();\n\n            if (response.status == 200) {\n              _this4.classCSS = \"alert-success\";\n              _this4.mensagem = \"Alterado com sucesso!\";\n            } else {\n              _this4.classCSS = \"alert-danger\";\n              _this4.mensagem = \"Erro ao alterar!\";\n            }\n\n            _this4.exibirMensagem();\n          });\n        }\n\n        this.resetar();\n      }\n    },\n    editar: function editar(id) {\n      this.resetar();\n      this.titulo = \"Editar\";\n      this.visitante.nome = this.visitantes[id].nome;\n      this.visitante.contato = this.visitantes[id].contato;\n      this.visitante.cpf = this.visitantes[id].cpf;\n      this.visitante.hora = this.visitantes[id].hora;\n      this.visitante.id = this.visitantes[id].id;\n      this.selecionado = id;\n    },\n    remover: function remover(id) {\n      var _this5 = this;\n\n      this.visitante = {\n        nome: \"\",\n        contato: \"\",\n        cpf: \"\",\n        hora: \"\"\n      };\n      var confirmar = window.confirm(\"Desejar remover o visitante \\\"\".concat(this.visitantes[id].nome, \"\\\"?\"));\n\n      if (confirmar) {\n        axios.delete(\"\".concat(config.apiURL, \"/visitantes/\").concat(this.visitantes[id].id)).then(function (response) {\n          _this5.titulo = \"Cadastro\";\n          _this5.erros = [];\n\n          _this5.listar();\n\n          if (response.status == 200) {\n            _this5.classCSS = \"alert-success\";\n            _this5.mensagem = \"Deletado com sucesso!\";\n          } else {\n            _this5.classCSS = \"alert-danger\";\n            _this5.mensagem = \"Erro ao deletar!\";\n          }\n\n          _this5.exibirMensagem();\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["AppListaVisitantes.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"divVisitantes\" class=\"row\">\n    <div class=\"col-md-4\">\n      <div class=\"divColVisitantes\" id=\"divCadastro\">\n        <h2>{{ titulo }}</h2>\n        <form>\n          <div class=\"row\">\n            <div class=\"form-group col-md-7\">\n              <label for=\"nome\">Nome:</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nome\"\n                v-model=\"visitante.nome\"\n                v-mask=\"''\"\n              >\n            </div>\n            <div class=\"form-group col-md-5\">\n              <label for=\"contato\">Contato:</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"contato\"\n                v-model=\"visitante.contato\"\n                v-mask=\"'(##) #####-####'\"\n              >\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"form-group col-md-8\">\n              <label for=\"cpf\">CPF:</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"cpf\"\n                v-model=\"visitante.cpf\"\n                v-mask=\"'###.###.###-##'\"\n                :disabled=\"titulo == 'Editar'\"\n              >\n            </div>\n            <div class=\"form-group col-md-4\">\n              <label for=\"entrada\">Entrada:</label>\n              <input\n                type=\"time\"\n                step=\"2\"\n                class=\"form-control\"\n                id=\"entrada\"\n                v-model=\"visitante.hora\"\n              >\n            </div>\n          </div>\n          <button class=\"btn btn-info\" type=\"reset\" @click=\"resetar\" style=\"margin-right: 0.5%\">\n            <i class=\"glyphicon glyphicon-refresh\"></i> Limpar\n          </button>\n          <button class=\"btn btn-success\" type=\"button\" @click=\"salvar\">\n            <i class=\"glyphicon glyphicon-floppy-disk\"></i> Salvar\n          </button>\n        </form>\n      </div>\n      <div v-if=\"erros.length\" class=\"alert alert-danger\">\n        <b>Por favor, corrija o(s) seguinte(s) erro(s):</b>\n        <ul>\n          <li v-for=\"(erro,indice) in erros\" :key=\"indice\">{{ erro }}</li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"col-md-8\">\n      <div class=\"divColVisitantes\" id=\"divTabelaVisitantes\">\n        <div class=\"text-center\">\n          <h2>Visitantes</h2>\n        </div>\n        <div v-if=\"exibir\" class=\"alert\" :class=\"classCSS\">\n          <div class=\"row text-center\">{{mensagem}}</div>\n        </div>\n        <div v-if=\"visitantes.length\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th>Nome</th>\n                <th>CPF</th>\n                <th>Contato</th>\n                <td>Entrada</td>\n                <td></td>\n                <td></td>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(valor,indice) in listaOrdenada\" :key=\"indice\">\n                <td>{{ valor.nome }}</td>\n                <td>{{ valor.cpf }}</td>\n                <td>{{ valor.contato }}</td>\n                <td>{{ valor.hora }}</td>\n                <td>\n                  <button class=\"btn btn-primary\" @click=\"editar(indice)\">\n                    <i class=\"glyphicon glyphicon-pencil\"></i>\n                  </button>\n                </td>\n                <td>\n                  <button class=\"btn btn-danger\" @click=\"remover(indice)\">\n                    <i class=\"glyphicon glyphicon-trash\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div v-else class=\"alert alert-warning\">\n          <div class=\"row text-center\">Nenhum resultado encontrado</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport config from \"./../config/config\";\n\nexport default {\n  data() {\n    return {\n      titulo: \"Cadastro\",\n      visitante: {\n        nome: \"\",\n        contato: \"\",\n        cpf: \"\",\n        hora: \"\"\n      },\n      visitantes: [],\n      erros: [],\n      selecionado: \"\",\n      exibir: false,\n      mensagem: \"\",\n      classCSS: \"\"\n    };\n  },\n  created() {\n    axios.get(`${config.apiURL}/visitantes`).then(response => {\n      this.visitantes = response.data;\n    });\n  },\n  computed: {\n    listaOrdenada() {\n      return this.visitantes.sort((v1, v2) => {\n        return v1.nome < v2.nome ? -1 : v1.nome > v2.nome ? 1 : 0;\n      });\n    }\n  },\n  methods: {\n    resetar() {\n      this.titulo = \"Cadastro\";\n      this.visitante = {\n            nome: \"\",\n            contato: \"\",\n            cpf: \"\",\n            hora: \"\"\n      };\n      this.erros = [];\n    },\n    validarLetras(texto) {\n      let regex = /^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ ]+$/;\n      return regex.test(texto);\n    },\n    buscarCPF(umVetor, item) {\n      let prim = 0;\n      let ult = umVetor.length - 1;\n      let achou = false;\n      while (prim <= ult && !achou) {\n        let meioLista = Math.ceil((prim + ult) / 2);\n        if (umVetor[meioLista] == item) {\n          achou = true;\n        } else {\n          if (item < umVetor[meioLista]) {\n            ult = meioLista - 1;\n          } else {\n            prim = meioLista + 1;\n          }\n        }\n      }\n\n      return achou;\n    },\n    ordenarCPF(array) {\n      return array.sort((v1, v2) => {\n        return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\n      });\n    },\n    validar() {\n      this.erros = [];\n\n      if (!this.visitante.nome) {\n        this.erros.push(\"O nome é obrigatório.\");\n      }\n      if (\n        !this.validarLetras(this.visitante.nome) &&\n        this.visitante.nome.length > 0\n      ) {\n        this.erros.push(\"É aceitável apenas letras no campo nome.\");\n      }\n\n      if (this.visitante.contato.length <15) {\n        this.erros.push(\"Contato incompleto.\");\n      }\n\n      if (this.visitante.cpf.length <14) {\n        this.erros.push(\"CPF incompleto.\");\n      }\n\n      let arrayCPF = [];\n\n      this.visitantes.forEach(element => {\n        arrayCPF.push(element.cpf);\n      });\n\n      if (this.titulo == \"Cadastro\" && this.buscarCPF(this.ordenarCPF(arrayCPF), this.visitante.cpf)\n      ) {\n        this.erros.push(\"CPF inválido.\");\n      }\n\n      if (!this.visitante.hora) {\n        this.erros.push(\"O horário de entrada é obrigatório.\");\n      }\n\n      return (this.erros.length > 0) ? false : true;\n    },\n    exibirMensagem() {\n      this.exibir = true;\n      setTimeout(() => {\n        this.exibir = false;\n      }, 3000);\n    },\n    listar() {\n      axios.get(`${config.apiURL}/visitantes`).then(response => {\n        this.visitantes = response.data;\n      });\n    },\n    salvar(event) {\n      if (this.validar()) {\n        if (this.titulo == \"Cadastro\") {\n          axios\n            .post(`${config.apiURL}/visitantes/`, this.visitante)\n            .then(response => {\n              this.listar();\n              if (response.status == 201) {\n                this.classCSS = \"alert-success\";\n                this.mensagem = \"Cadastrado com sucesso!\";\n              } else {\n                this.classCSS = \"alert-danger\";\n                this.mensagem = \"Erro ao cadastrar!\";\n              }\n              this.exibirMensagem();\n            });\n        } else {\n          axios\n            .put(\n              `${config.apiURL}/visitantes/${this.visitante.id}/`,\n              this.visitante\n            )\n            .then(response => {\n              this.listar();\n              if (response.status == 200) {\n                this.classCSS = \"alert-success\";\n                this.mensagem = \"Alterado com sucesso!\";\n              } else {\n                this.classCSS = \"alert-danger\";\n                this.mensagem = \"Erro ao alterar!\";\n              }\n              this.exibirMensagem();\n            });\n        }\n\n        this.resetar();\n      }\n    },\n    editar(id) {\n      this.resetar();\n      this.titulo = \"Editar\";\n      this.visitante.nome = this.visitantes[id].nome;\n      this.visitante.contato = this.visitantes[id].contato;\n      this.visitante.cpf = this.visitantes[id].cpf;\n      this.visitante.hora = this.visitantes[id].hora;\n      this.visitante.id = this.visitantes[id].id;\n      this.selecionado = id;\n    },\n    remover(id) {\n      \n      this.visitante = {\n            nome: \"\",\n            contato: \"\",\n            cpf: \"\",\n            hora: \"\"\n      };\n    \n      const confirmar = window.confirm(\n        `Desejar remover o visitante \"${this.visitantes[id].nome}\"?`\n      );\n\n      if (confirmar) {\n        axios\n          .delete(`${config.apiURL}/visitantes/${this.visitantes[id].id}`)\n          .then(response => {\n            this.titulo = \"Cadastro\";\n            this.erros = [];\n            this.listar();\n            if (response.status == 200) {\n              this.classCSS = \"alert-success\";\n              this.mensagem = \"Deletado com sucesso!\";\n            } else {\n              this.classCSS = \"alert-danger\";\n              this.mensagem = \"Erro ao deletar!\";\n            }\n            this.exibirMensagem();\n          });\n      }\n    }\n  }\n};\n</script>\n\n<style>\n#divVisitantes {\n  margin: 0% 1% 1%;\n  background-color: #ffffff;\n  padding: 1%;\n  border-radius: 5px;\n}\n\n.divColVisitantes {\n  margin: 0.5%;\n}\n\n#divCadastro {\n  border: 1px solid gray;\n  padding: 2%;\n  border-radius: 5px;\n}\n\n#divTabelaVisitantes {\n  border: 1px solid gray;\n  padding: 1%;\n  border-radius: 5px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}