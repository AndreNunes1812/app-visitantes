(function(t){function a(a){for(var i,o,r=a[0],c=a[1],l=a[2],v=0,d=[];v<r.length;v++)o=r[v],n[o]&&d.push(n[o][0]),n[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(a);while(d.length)d.shift()();return s.push.apply(s,l||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],i=!0,r=1;r<e.length;r++){var c=e[r];0!==n[c]&&(i=!1)}i&&(s.splice(a--,1),t=o(o.s=e[0]))}return t}var i={},n={app:0},s=[];function o(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)o.d(e,i,function(a){return t[a]}.bind(null,i));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=a,r=r.slice();for(var l=0;l<r.length;l++)a(r[l]);var u=c;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"283b":function(t,a,e){"use strict";var i=e("c909"),n=e.n(i);n.a},4320:function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),n=e("b6d0"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("AppNav",{on:{marginTopNav:function(a){t.marginTopApp=a},componentSelecionado:function(a){t.componentSelecionado=a}}}),e("keep-alive",[e(t.componentSelecionado,t._b({tag:"component"},"component",t.propsAtuais,!1))],1)],1)},o=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{ref:"nav",staticClass:"navbar navbar-fixed-top navbar-inverse"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"navbar-header"},[t._m(0),e("span",{staticClass:"navbar-brand",staticStyle:{color:"#ffffff"}},[t._v(t._s(t.empresa))])]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"myNavbar"}},[e("ul",{staticClass:"nav navbar-nav"},t._l(t.nav,function(a){return e("li",{key:a.id,class:{active:a.ativo}},[e("a",{style:[a.ativo?{"background-color":t.bgColorActive}:{"background-color":""}],attrs:{href:a.href},on:{click:function(e){return t.ativar(a,t.ativo)}}},[t._v("\n                        "+t._s(a.nome)+"\n                    ")])])}),0)])])])},c=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#myNavbar"}},[e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"})])}],l={data:function(){return{empresa:"EMPRESA",bgColorActive:"#213856",props:["componentSelecionado"],nav:[{id:"home",nome:"Home",ativo:!0,component:"AppBody"},{id:"visitantes",nome:"Visitantes",ativo:!1,component:"AppVisitantes"}],heightNav:""}},mounted:function(){this.lerAltura()},methods:{ativar:function(t,a){t.id!==a[0].id&&(a[0].ativo=!1,t.ativo=!0),this.$emit("componentSelecionado",t.component)},lerAltura:function(){this.heightNav=this.$refs.nav.clientHeight},setarMargin:function(){this.$emit("marginTopNav",this.heightNav+15+"px")}},computed:{ativo:function(){return this.nav.filter(function(t){return t.ativo})}},watch:{heightNav:function(){this.setarMargin()}}},u=l,v=(e("bc84"),e("2877")),d=Object(v["a"])(u,r,c,!1,null,null,null),p=d.exports,m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("AppHome",{attrs:{marginTopHome:t.marginTopBody}}),e("AppCards")],1)},f=[],h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"jumbotron div-home",style:{"margin-top":t.marginTopHome}},[e("h1",[t._v(t._s(t.h1))]),e("p",[t._v(t._s(t.p))])])])},g=[],b={props:["marginTopHome"],data:function(){return{h1:"Bem vindo ao sistema de visitantes!",p:"Qualquer dúvida, entre em contato com a equipe de TI através do e-mail ti@mail.com."}}},C=b,_=(e("d64d"),Object(v["a"])(C,h,g,!1,null,null,null)),y=_.exports,x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row",attrs:{id:"divVisitantes"}},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"divColVisitantes",attrs:{id:"divCadastro"}},[e("h2",[t._v(t._s(t.titulo))]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md-7"},[e("label",{attrs:{for:"nome"}},[t._v("Nome:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.visitante.nome,expression:"visitante.nome"},{name:"mask",rawName:"v-mask",value:"",expression:"''"}],staticClass:"form-control",attrs:{type:"text",id:"nome"},domProps:{value:t.visitante.nome},on:{input:function(a){a.target.composing||t.$set(t.visitante,"nome",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-5"},[e("label",{attrs:{for:"contato"}},[t._v("Contato:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.visitante.contato,expression:"visitante.contato"},{name:"mask",rawName:"v-mask",value:"(##) #####-####",expression:"'(##) #####-####'"}],staticClass:"form-control",attrs:{type:"text",id:"contato"},domProps:{value:t.visitante.contato},on:{input:function(a){a.target.composing||t.$set(t.visitante,"contato",a.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md-8"},[e("label",{attrs:{for:"cpf"}},[t._v("CPF:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.visitante.cpf,expression:"visitante.cpf"},{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],staticClass:"form-control",attrs:{type:"text",id:"cpf",disabled:"Editar"==t.titulo},domProps:{value:t.visitante.cpf},on:{input:function(a){a.target.composing||t.$set(t.visitante,"cpf",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-4"},[e("label",{attrs:{for:"entrada"}},[t._v("Entrada:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.visitante.hora,expression:"visitante.hora"}],staticClass:"form-control",attrs:{type:"time",step:"2",id:"entrada"},domProps:{value:t.visitante.hora},on:{input:function(a){a.target.composing||t.$set(t.visitante,"hora",a.target.value)}}})])]),e("button",{staticClass:"btn btn-info",staticStyle:{"margin-right":"0.5%"},attrs:{type:"reset"},on:{click:t.resetar}},[e("i",{staticClass:"glyphicon glyphicon-refresh"}),t._v(" Limpar\n        ")]),e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.salvar}},[e("i",{staticClass:"glyphicon glyphicon-floppy-disk"}),t._v(" Salvar\n        ")])])]),t.erros.length?e("div",{staticClass:"alert alert-danger"},[e("b",[t._v("Por favor, corrija o(s) seguinte(s) erro(s):")]),e("ul",t._l(t.erros,function(a,i){return e("li",{key:i},[t._v(t._s(a))])}),0)]):t._e()]),e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"divColVisitantes",attrs:{id:"divTabelaVisitantes"}},[t._m(0),t.exibir?e("div",{staticClass:"alert",class:t.classCSS},[e("div",{staticClass:"row text-center"},[t._v(t._s(t.mensagem))])]):t._e(),t.visitantes.length?e("div",[e("table",{staticClass:"table table-hover"},[t._m(1),e("tbody",t._l(t.listaOrdenada,function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.nome))]),e("td",[t._v(t._s(a.cpf))]),e("td",[t._v(t._s(a.contato))]),e("td",[t._v(t._s(a.hora))]),e("td",[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.editar(i)}}},[e("i",{staticClass:"glyphicon glyphicon-pencil"})])]),e("td",[e("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.remover(i)}}},[e("i",{staticClass:"glyphicon glyphicon-trash"})])])])}),0)])]):e("div",{staticClass:"alert alert-warning"},[e("div",{staticClass:"row text-center"},[t._v("Nenhum resultado encontrado")])])])])])},S=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center"},[e("h2",[t._v("Visitantes")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("Nome")]),e("th",[t._v("CPF")]),e("th",[t._v("Contato")]),e("td",[t._v("Entrada")]),e("td"),e("td")])])}],A=(e("55dd"),e("bc3a")),w=e.n(A),k={apiURL:"https://my-json-server.typicode.com/rbalves/visitantes/db"},E={data:function(){return{titulo:"Cadastro",visitante:{nome:"",contato:"",cpf:"",hora:""},visitantes:[],erros:[],selecionado:"",exibir:!1,mensagem:"",classCSS:""}},created:function(){var t=this;w.a.get("".concat(k.apiURL,"/visitantes")).then(function(a){t.visitantes=a.data})},computed:{listaOrdenada:function(){return this.visitantes.sort(function(t,a){return t.nome<a.nome?-1:t.nome>a.nome?1:0})}},methods:{resetar:function(){this.titulo="Cadastro",this.visitante={nome:"",contato:"",cpf:"",hora:""},this.erros=[]},validarLetras:function(t){var a=/^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ ]+$/;return a.test(t)},buscarCPF:function(t,a){var e=0,i=t.length-1,n=!1;while(e<=i&&!n){var s=Math.ceil((e+i)/2);t[s]==a?n=!0:a<t[s]?i=s-1:e=s+1}return n},ordenarCPF:function(t){return t.sort(function(t,a){return t<a?-1:t>a?1:0})},validar:function(){this.erros=[],this.visitante.nome||this.erros.push("O nome é obrigatório."),!this.validarLetras(this.visitante.nome)&&this.visitante.nome.length>0&&this.erros.push("É aceitável apenas letras no campo nome."),this.visitante.contato.length<15&&this.erros.push("Contato incompleto."),this.visitante.cpf.length<14&&this.erros.push("CPF incompleto.");var t=[];return this.visitantes.forEach(function(a){t.push(a.cpf)}),"Cadastro"==this.titulo&&this.buscarCPF(this.ordenarCPF(t),this.visitante.cpf)&&this.erros.push("CPF inválido."),this.visitante.hora||this.erros.push("O horário de entrada é obrigatório."),!(this.erros.length>0)},exibirMensagem:function(){var t=this;this.exibir=!0,setTimeout(function(){t.exibir=!1},3e3)},listar:function(){var t=this;w.a.get("".concat(k.apiURL,"/visitantes")).then(function(a){t.visitantes=a.data})},salvar:function(t){var a=this;this.validar()&&("Cadastro"==this.titulo?w.a.post("".concat(k.apiURL,"/visitantes/"),this.visitante).then(function(t){a.listar(),201==t.status?(a.classCSS="alert-success",a.mensagem="Cadastrado com sucesso!"):(a.classCSS="alert-danger",a.mensagem="Erro ao cadastrar!"),a.exibirMensagem()}):w.a.put("".concat(k.apiURL,"/visitantes/").concat(this.visitante.id,"/"),this.visitante).then(function(t){a.listar(),200==t.status?(a.classCSS="alert-success",a.mensagem="Alterado com sucesso!"):(a.classCSS="alert-danger",a.mensagem="Erro ao alterar!"),a.exibirMensagem()}),this.resetar())},editar:function(t){this.resetar(),this.titulo="Editar",this.visitante.nome=this.visitantes[t].nome,this.visitante.contato=this.visitantes[t].contato,this.visitante.cpf=this.visitantes[t].cpf,this.visitante.hora=this.visitantes[t].hora,this.visitante.id=this.visitantes[t].id,this.selecionado=t},remover:function(t){var a=this;this.visitante={nome:"",contato:"",cpf:"",hora:""};var e=window.confirm('Desejar remover o visitante "'.concat(this.visitantes[t].nome,'"?'));e&&w.a.delete("".concat(k.apiURL,"/visitantes/").concat(this.visitantes[t].id)).then(function(t){a.titulo="Cadastro",a.erros=[],a.listar(),200==t.status?(a.classCSS="alert-success",a.mensagem="Deletado com sucesso!"):(a.classCSS="alert-danger",a.mensagem="Erro ao deletar!"),a.exibirMensagem()})}}},O=E,T=(e("283b"),Object(v["a"])(O,x,S,!1,null,null,null)),$=T.exports,j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row",attrs:{id:"divAppCards"}},[t._m(0),e("div",{staticClass:"row"},t._l(t.totais,function(a){return e("AppCard",t._b({key:a.id},"AppCard",a,!1))}),1)])},N=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row",staticStyle:{"margin-left":"0.01%"}},[e("h2",[t._v("Totais de visitantes")])])}],P=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("p",{staticStyle:{"font-size":"35px"}},[t._v(" "+t._s(t.periodo))])]),e("div",{staticClass:"card-body"},[e("p",{staticStyle:{"font-size":"50px"}},[t._v(" "+t._s(t.quantidade))])])])])},V=[],M={inheriAttrs:!1,props:["periodo","quantidade"]},L=M,B=(e("c177"),Object(v["a"])(L,P,V,!1,null,null,null)),q=B.exports,F={components:{AppCard:q},data:function(){return{totais:[{id:1,periodo:"Ano",quantidade:256},{id:2,periodo:"Mês",quantidade:35},{id:3,periodo:"Semana",quantidade:10},{id:4,periodo:"Dia",quantidade:3}]}}},H=F,R=(e("a015"),Object(v["a"])(H,j,N,!1,null,null,null)),U=R.exports,z={props:["marginTopBody"],components:{AppHome:y,AppListaVisitantes:$,AppCards:U}},D=z,J=Object(v["a"])(D,m,f,!1,null,null,null),I=J.exports,Q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{style:{"margin-top":t.marginTopVisitantes}},[e("AppListaVisitantes")],1)])},Z=[],G={props:["marginTopVisitantes"],data:function(){return{}},components:{AppListaVisitantes:$}},K=G,W=Object(v["a"])(K,Q,Z,!1,null,null,null),X=W.exports,Y={components:{AppNav:p,AppBody:I,AppVisitantes:X},data:function(){return{marginTopApp:void 0,componentSelecionado:"AppBody"}},computed:{propsAtuais:function(){var t;switch(this.componentSelecionado){case"AppBody":t={marginTopBody:this.marginTopApp};break;case"AppVisitantes":t={marginTopVisitantes:this.marginTopApp};break}return t}}},tt=Y,at=Object(v["a"])(tt,s,o,!1,null,null,null),et=at.exports;e.d(a,"eventBus",function(){return it}),i["a"].use(n["a"]);var it=new i["a"];new i["a"]({render:function(t){return t(et)}}).$mount("#app")},"649d":function(t,a,e){},"69d5":function(t,a,e){},a015:function(t,a,e){"use strict";var i=e("649d"),n=e.n(i);n.a},bc84:function(t,a,e){"use strict";var i=e("4320"),n=e.n(i);n.a},bcf7:function(t,a,e){},c177:function(t,a,e){"use strict";var i=e("69d5"),n=e.n(i);n.a},c909:function(t,a,e){},d64d:function(t,a,e){"use strict";var i=e("bcf7"),n=e.n(i);n.a}});
//# sourceMappingURL=app.e7f6009a.js.map